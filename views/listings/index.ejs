<% layout('layout/boilerPlate') %>
<body>
    <!-- Carasoul -->
    <div id="carouselExampleAutoplaying" class="carousel slide w-100" data-bs-ride="carousel" style="height: 13rem;">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="/images/1.png" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            <img src="/images/2.png" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            <img src="/images/3.png" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            <img src="/images/4.png" class="d-block w-100" alt="...">
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
    </div>
    <!-- End of Carasoul -->

    <!-- Start of Products -->
  <div class="container">
    <div class="row d-flex justify-content-center">
      <% for(let listing of allListing){ %>
        <div class="card product-card col-3 p-0 m-3" style="width: 14rem;">
          <a href="/listing/<%= listing.id %>">
            <img src="<%= listing.image.url %>" class="card-img-top card-img" alt="Product Image">
          </a>
          <div class="card-body">
            <h5 class="card-title"><%= listing.title %></h5>
            <p class="card-text">Category: &nbsp;&nbsp;
              <a class="text-warning" href="/listing/category?category=<%= listing.category._id %>">
                <%= listing.category.name %>
              </a>
            </p>
            <p class="card-text text-center"><b>Rs. <%= listing.price %></b></p>
          </div>
          <div class="m-0">
            <a href="/listing/<%= listing.id %>" type="submit" class="btn card-button">Add to Cart</a>
          </div>
        </div>
      <% } %>
    </div>
    <div class="row d-flex justify-content-center">
      <% if (allListing.length == 0) { %>
          <h3 class="z-1" style="margin-top: 9rem;">No results found for "<%= query %>".</h3>
      <% } %>
    </div>
  </div>
  <!-- End of Products -->
</body>